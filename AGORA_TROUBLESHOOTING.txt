========================================
ðŸ”§ AGORA TROUBLESHOOTING GUIDE
========================================

âŒ ERROR: "NOT_SUPPORTED: Cannot find getUserMedia"
========================================

This error means your browser cannot access camera/microphone.

COMMON CAUSES & SOLUTIONS:

1. âŒ NOT USING HTTPS (Most Common!)
   âœ… SOLUTION:
   - getUserMedia ONLY works on:
     â€¢ https:// websites
     â€¢ http://localhost (development)
     â€¢ http://127.0.0.1 (development)
   
   - If accessing via IP (e.g., http://192.168.1.5:3000):
     âŒ WON'T WORK - Browser blocks it!
   
   - For mobile testing on same network:
     Option A: Use ngrok (creates HTTPS tunnel)
     Option B: Use localhost.run
     Option C: Deploy to Vercel (free HTTPS)

2. âŒ BROWSER NOT SUPPORTED
   âœ… SOLUTION:
   - Use modern browser:
     â€¢ Chrome (recommended)
     â€¢ Firefox
     â€¢ Safari
     â€¢ Edge
   - Update to latest version
   - Don't use: Internet Explorer, old browsers

3. âŒ INSECURE CONTEXT
   âœ… SOLUTION:
   - Check browser address bar:
     â€¢ Should show ðŸ”’ (secure)
     â€¢ Or "localhost" (allowed)
   - If shows "Not Secure" â†’ getUserMedia blocked

========================================
ðŸš€ QUICK FIX FOR LOCAL DEVELOPMENT
========================================

METHOD 1: Use localhost (Recommended)
--------------------------------------
Access your app at:
http://localhost:3000
NOT: http://192.168.x.x:3000

METHOD 2: Use ngrok (For mobile testing)
--------------------------------------
1. Install ngrok: https://ngrok.com/download
2. Run: ngrok http 3000
3. Use the https:// URL provided
4. Access from any device!

METHOD 3: Deploy to Vercel (Production)
--------------------------------------
1. Push code to GitHub
2. Import to Vercel
3. Auto HTTPS enabled
4. Works everywhere!

========================================
ðŸ“± MOBILE TESTING
========================================

âŒ WRONG WAY:
http://192.168.1.5:3000
(Browser blocks getUserMedia on non-HTTPS)

âœ… RIGHT WAY:
1. Use ngrok:
   ngrok http 3000
   â†’ https://abc123.ngrok.io

2. Or deploy to Vercel:
   â†’ https://your-app.vercel.app

========================================
ðŸ” CHECK YOUR SETUP
========================================

Run this in browser console:

```javascript
// Check if getUserMedia is available
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  console.log('âœ… getUserMedia is supported');
  
  // Try to get camera/mic
  navigator.mediaDevices.getUserMedia({ audio: true, video: true })
    .then(() => console.log('âœ… Permissions granted!'))
    .catch(err => console.error('âŒ Error:', err.name, err.message));
} else {
  console.error('âŒ getUserMedia NOT supported');
  console.log('Current URL:', window.location.href);
  console.log('Is secure context?', window.isSecureContext);
}
```

========================================
âœ… EXPECTED OUTPUT (Working)
========================================

Current URL: http://localhost:3000/session/...
Is secure context? true
âœ… getUserMedia is supported
âœ… Permissions granted!

========================================
âŒ PROBLEM OUTPUT (Not Working)
========================================

Current URL: http://192.168.1.5:3000/session/...
Is secure context? false
âŒ getUserMedia NOT supported

FIX: Use localhost or HTTPS!

========================================
ðŸŒ PRODUCTION DEPLOYMENT
========================================

When deploying to production:

1. Vercel (Recommended - Free HTTPS)
   - Push to GitHub
   - Connect to Vercel
   - Auto HTTPS + SSL certificate
   - Works perfectly!

2. Netlify (Alternative)
   - Similar to Vercel
   - Free HTTPS included

3. Custom Domain
   - MUST have SSL certificate
   - Use Cloudflare for free SSL
   - Or Let's Encrypt

========================================
ðŸ”’ SECURITY REQUIREMENTS
========================================

getUserMedia REQUIRES:
âœ… HTTPS (or localhost)
âœ… User permission
âœ… Secure context

getUserMedia BLOCKED ON:
âŒ HTTP (except localhost)
âŒ Insecure contexts
âŒ Old browsers

========================================
ðŸ’¡ DEVELOPMENT TIPS
========================================

1. Always test on localhost first
2. Use Chrome DevTools to check:
   - Console for errors
   - Network tab for API calls
   - Application > Permissions

3. For team testing:
   - Deploy to Vercel (free)
   - Share the HTTPS link
   - Everyone can test!

========================================
ðŸ“ž STILL NOT WORKING?
========================================

1. Check browser console for exact error
2. Verify you're on HTTPS or localhost
3. Check browser permissions:
   - Click lock icon ðŸ”’ in address bar
   - Check camera/microphone permissions
4. Try different browser
5. Clear browser cache
6. Restart browser

========================================
âœ… WORKING SETUP CHECKLIST
========================================

â–¡ Using HTTPS or localhost
â–¡ Modern browser (Chrome/Firefox/Safari)
â–¡ Browser updated to latest version
â–¡ Camera/microphone connected
â–¡ Permissions allowed in browser
â–¡ Agora credentials in .env file
â–¡ Dev server running (npm run dev)
â–¡ Socket server running (npm run dev:socket)

========================================

